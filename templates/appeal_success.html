{% extends 'base.html' %}
{% block content %}
<div class="container-narrow">
  <div class="card">
    <div style="text-align: center; margin-bottom: 32px;">
      <div style="width: 64px; height: 64px; margin: 0 auto 16px; background: linear-gradient(135deg, var(--nyu-purple) 0%, var(--nyu-purple-dark) 100%); border-radius: 50%; display: flex; align-items: center; justify-content: center; color: white; font-size: 28px;">
        ✓
      </div>
      <h2 style="margin: 0 0 8px; color: var(--text-primary);">{{ t('appeal_success.received') }}</h2>
      <p class="text-secondary">{{ t('appeal_success.review_message') }}</p>
    </div>

    <!-- 申诉信息摘要 -->
    <div class="alert alert-info" style="margin-bottom: 24px;">
      <div class="alert-content">
        <strong>{{ t('appeal_success.summary') }}</strong>
        <div style="margin-top: 12px; font-size: 14px;">
          <p><strong>{{ t('appeal_success.appeal_id') }}</strong>#{{ appeal.id }}</p>
          <p><strong>{{ t('appeal_success.related_record') }}</strong>{{ appeal.submission.get_display_name(masked=False) }}</p>
          <p><strong>{{ t('appeal_success.submit_time') }}</strong>{{ appeal.created_at.strftime('%Y-%m-%d %H:%M') }}</p>
          <p><strong>{{ t('appeal_success.contact_email') }}</strong>{{ appeal.email }}</p>
          {% if appeal.appeal_evidences %}
          <p><strong>{{ t('appeal_success.evidence_provided') }}</strong>{{ t('appeal_success.drive_link_provided') }}</p>
          {% endif %}
        </div>
      </div>
    </div>

    <!-- 处理流程说明 -->
    <div style="margin-bottom: 32px;">
      <h3 style="font-size: 18px; margin-bottom: 16px;">{{ t('appeal_success.process_title') }}</h3>
      <div style="display: grid; gap: 16px;">
        <div style="display: flex; gap: 12px; align-items: flex-start;">
          <div style="width: 24px; height: 24px; background: var(--nyu-purple); color: white; border-radius: 50%; display: flex; align-items: center; justify-content: center; font-size: 12px; font-weight: 600; flex-shrink: 0;">1</div>
          <div>
            <strong>{{ t('appeal_success.step1_title') }}</strong>
            <p style="margin: 4px 0 0; color: var(--text-secondary); font-size: 14px;">{{ t('appeal_success.step1_desc') }}</p>
          </div>
        </div>
        <div style="display: flex; gap: 12px; align-items: flex-start;">
          <div style="width: 24px; height: 24px; background: var(--nyu-purple); color: white; border-radius: 50%; display: flex; align-items: center; justify-content: center; font-size: 12px; font-weight: 600; flex-shrink: 0;">2</div>
          <div>
            <strong>{{ t('appeal_success.step2_title') }}</strong>
            <p style="margin: 4px 0 0; color: var(--text-secondary); font-size: 14px;">{{ t('appeal_success.step2_desc') }}</p>
          </div>
        </div>
        <div style="display: flex; gap: 12px; align-items: flex-start;">
          <div style="width: 24px; height: 24px; background: var(--nyu-purple); color: white; border-radius: 50%; display: flex; align-items: center; justify-content: center; font-size: 12px; font-weight: 600; flex-shrink: 0;">3</div>
          <div>
            <strong>{{ t('appeal_success.step3_title') }}</strong>
            <p style="margin: 4px 0 0; color: var(--text-secondary); font-size: 14px;">{{ t('appeal_success.step3_desc') }}</p>
          </div>
        </div>
      </div>
    </div>

    <!-- 预期时间 -->
    <div style="background: var(--nyu-purple-pale); border-radius: 12px; padding: 20px; margin-bottom: 24px;">
      <div style="display: flex; align-items: center; gap: 12px;">
        <div style="width: 40px; height: 40px; background: var(--nyu-purple); color: white; border-radius: 50%; display: flex; align-items: center; justify-content: center;">
          <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
            <circle cx="12" cy="12" r="10"></circle>
            <polyline points="12,6 12,12 16,14"></polyline>
          </svg>
        </div>
        <div>
          <h4 style="margin: 0; color: var(--nyu-purple-dark);">{{ t('appeal_success.expected_time') }}</h4>
          <p style="margin: 4px 0 0; color: var(--nyu-purple); font-size: 14px;">{{ t('appeal_success.time_desc') | safe }}</p>
        </div>
      </div>
    </div>

    <!-- 联系方式 -->
    <div style="border: 1px solid var(--border-light); border-radius: 12px; padding: 20px; margin-bottom: 32px;">
      <h4 style="margin: 0 0 12px; color: var(--text-primary);">{{ t('appeal_success.need_help') }}</h4>
      <p style="margin: 0; color: var(--text-secondary); font-size: 14px; line-height: 1.5;">
        {{ t('appeal_success.help_desc') }}
      </p>
      <p style="margin: 8px 0 0; color: var(--nyu-purple); font-size: 14px;">
        {{ t('appeal_success.email_label') }}{{ config.MAIL_DEFAULT_SENDER or config.MAIL_USERNAME or 'admin@example.com' }}
      </p>
    </div>

    <!-- 操作按钮 -->
    <div class="btn-group" style="justify-content: center;">
      <a href="/" class="btn btn-primary">{{ t('appeal_success.back_home') }}</a>
      <a href="/s/{{ appeal.submission_id }}?source=search" class="btn btn-secondary">{{ t('appeal_success.view_original') }}</a>
    </div>
  </div>
</div>
{% endblock %}